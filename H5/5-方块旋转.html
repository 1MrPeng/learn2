<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			body{
				background: #eee;
			}
			canvas{
				background: white;
			}
		</style>
	</head>
	<body>
		<canvas id="mycanvas" width="500" height="500">
			您的浏览器不支持canvas
		</canvas>
	</body>
</html>
<script type="text/javascript">
	var canvas = document.querySelector('canvas');
	var timer;
	
	
	var ctx = canvas.getContext('2d');
	var angle = 0;	//初始角度为0
	var scale = 0;
	var num = 0;
	ctx.fillStyle = 'red';
	ctx.translate(canvas.offsetWidth/2,canvas.offsetHeight/2);
	
	timer = setInterval(rotate,30);
	
	canvas.onmouseover=function(){
		clearInterval(timer);
	} 
	canvas.onmouseout=function(){
		timer = setInterval(rotate,30);
	} 
	
	
	function rotate(){
		ctx.clearRect(-canvas.offsetWidth/2,-canvas.offsetHeight/2,canvas.offsetWidth,canvas.offsetHeight);
		angle++;
		if(scale==100){
			num = -1;
		}else if(scale==0){
			num = 1;
		}
		scale+=num;
		ctx.save();
		ctx.rotate(angle*Math.PI/180);
		ctx.scale(scale/50,scale/50);
		ctx.translate(-50, -50)
		ctx.fillRect(0, 0, 100, 100);
		ctx.restore();
	}
</script>