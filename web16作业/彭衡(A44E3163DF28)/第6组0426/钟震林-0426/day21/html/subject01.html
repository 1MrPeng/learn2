<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>实现购物车</title>
		<meta name="viewport" content="width=device-width initial-scale=1 user-scalable=no" />
		<style>
			html,body,div,ul,li,p,img,span{margin: 0; padding: 0;}
			ul,li{list-style: none;}
			.container{
				width: 100%;
				background: #CCCCCC;
				display: flex;
				margin: 10px 0px;
			}
			.left_box{
				width: 55%;
				border: 1px solid black;
				background: white;
				margin-left: 10px;
			}
			.left_box>ul{
				width: 100%;
				display: flex;
				flex-wrap: wrap;
				justify-content: space-around;
			}
			.left_box>ul>li{
				width: 30%;
				height: 300px;
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			.left_box>ul>li img{
				width: 100%;
			}
			.left_box>ul>li p:nth-child(2){
				color: red;
			}
			.left_box>ul>li p:nth-child(3){
				word-break: break-all;
			}
			.left_box>ul>li p:nth-child(4){
				color: #CCCCCC;
			}
			.right_box{
				width: 35%;
				height: 80%;
				border: 1px solid black;
				background: white;
				display: flex;
				flex-direction: column;
				position: fixed;
				right: 10px;
			}
			.right_box li{
				widows: 100%;
				height: 40px;
				border-bottom: 1px solid black;
				display: flex;
				justify-content: space-around;
				align-items: center;
			}
			.right_box li img{
				width: 40px;
				height: 40px;
			}
			.right_box li p:nth-child(2){
				color: red;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="left_box">
				<ul>
					<li>
						<img src="../img/pms01.jpg" />
						<p>￥ 2799.00 <span>包邮</span></p>
						<p>小米8全面屏</p>
						<p><a>绿森数码官方旗舰店</a></p>
					</li>
					<li>
						<img src="../img/pms02.jpg" />
						<p>￥ 2799.00 <span>包邮</span></p>
						<p>小米8全面屏</p>
						<p><a>绿森数码官方旗舰店</a></p>
					</li>
					<li>
						<img src="../img/pms03.jpg" />
						<p>￥ 2799.00 <span>包邮</span></p>
						<p>小米8全面屏</p>
						<p><a>绿森数码官方旗舰店</a></p>
					</li>
					<li>
						<img src="../img/pms04.jpg" />
						<p>￥ 2799.00 <span>包邮</span></p>
						<p>小米8全面屏</p>
						<p><a>绿森数码官方旗舰店</a></p>
					</li>
					<li>
						<img src="../img/pms05.jpg" />
						<p>￥ 2799.00 <span>包邮</span></p>
						<p>小米8全面屏</p>
						<p><a>绿森数码官方旗舰店</a></p>
					</li>
					<li>
						<img src="../img/pms06.png" />
						<p>￥ 2799.00 <span>包邮</span></p>
						<p>小米8全面屏</p>
						<p><a>绿森数码官方旗舰店</a></p>
					</li>
				</ul>
			</div>
			<div class="right_box"></div>
		</div>
		
		<script>
			
			window.onload = function(){
				var aLi = document.querySelectorAll("li");
				var orightBox = document.querySelector(".right_box");
//				循环绑定li的拖拽事件
				for(var i=0; i<aLi.length; i++){
					aLi[i].index = i;
//					拖拽开始
					aLi[i].ondragstart = function(ev){
						var ev = ev || window.event;
//						设置传输的数据,键值对的形式
						ev.dataTransfer.setData("index",this.index);
						ev.dataTransfer.setData("context",this.innerHTML);
					}
				}
				
				orightBox.ondragenter = function(){
					this.ondragover = function(ev){
						var ev = ev || window.event;
						ev.preventDefault();
					}
//					将拖拽元素放置在oBox里面
					this.ondrop = function(ev){
						var ev = ev || window.event;
//						获取传输过来的数据
						var ind = ev.dataTransfer.getData("index");
						var cont = ev.dataTransfer.getData("context");
						this.appendChild(aLi[ind]);
					}
					
				}
			}
		</script>
	</body>
</html>
