<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>五星好评</title>
		<style>
			*{
				padding: 0;
				margin: 0;
			}
			div{
				margin: 40px;
			}
			ul{
				list-style: none;
				display: flex;
				justify-content: space-around;
				width: 150px;
				margin: auto;
			}
			li{
				width: 30px;
				height: 30px;
				background: url(star.jpg) no-repeat 0 -70px;
			}
		</style>
	</head>
	<body>
		<div class="main_box">
			<ul>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			
		</div>
	</body>
</html>
<script>
	
	//页面加载完成
	window.onload = function(){
		//获取元素
		var lis = document.querySelectorAll('.main_box li');
		
		//绑定事件
		for(var i = 0;i<lis.length;i++){
			//保存下标
			lis[i].index = i;
			lis[i].onclick = function(){
				//改变的只是y 未选中 0选中
				var positionY = parseInt(cssStyle(this,'background-position-y'));
				 //判断是否选择的
				 if( positionY == -70){
					 //未选中,则选中其自身和其左边的所有星星
					 for(var i = 0;i<=this.index;i++){
						 cssStyle(lis[i],'background-position-y','0px');
					 }
				 }else{
					 //取消选中,取消选中自身和其有变的星星
					 for(var i = this.index; i<lis.length; i++){
						  cssStyle(lis[i],'background-position-y','-70px');
					 }
					 
				 }
				 
				
			}
		}
		
		//得到最终样式的兼容函数
		function cssStyle(obj,attr,val){
			if(!val){
				if(window.getComputedStyle){
					return window.getComputedStyle(obj)[attr];
				}
				return obj.currentStyle[attr];
			}else{
				//设置样式
				obj.style[attr] = val;
			}
			
		}
	}
</script>